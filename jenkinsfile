//декларативний pipeline
pipeline {
//pipeline запускається на будь-якому agent
  agent any  
   //Основні етапи виконання
   stages {
    //етап встановлення Apache
     stage('Install Apache') { 
      steps {
           sh '''
              sudo apt update -y
              sudo apt install apache2 -y 
              sudo systemctl start apache2
              sudo systemctl enable apache2
              sudo systemctl status apache2 
           '''
       }
     }
   
   //Робимо запит на веб-сервер до неіснуючої сторінки, щоб отримати відповідь 404 
   stage ('Trigger 404') {
          steps {
             sh 'curl -I http://localhost/missing-folder/assistent.html' 
          }
        }
     }
}
